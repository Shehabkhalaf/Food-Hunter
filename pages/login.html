<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Food Hunter</title>
  <!-- File Css Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
  <!-- Font AweSome -->
  <script src="https://kit.fontawesome.com/49f02d4a75.js" crossorigin="anonymous"></script>
  <!-- File Css Main -->
  <link rel="stylesheet" href="../css/style.css" />
  <!-- File Css Login -->
  <link rel="stylesheet" href="../css/login.css" />
  <!-- File Css Footer -->
  <link rel="stylesheet" href="../css/footer.css" />

</head>

<body>
  <!-- Start Login -->
  <div class="login overflow-hidden position-relative">
    <div class="video">
      <video loop autoplay muted id="video">
        <source src="../video/pexels-kampus-production-7835664-640x360-25fps.mp4" type="video/mp4" />
      </video>
    </div>
    <div class="box position-absolute">
      <form class="pb-3 pt-5 ps-5 pe-5" id="login-form">
        <div class="form-floating mb-3">
          <input type="email" class="form-control" id="email" placeholder="name@example.com" name="email" />
          <label for="email">Email address</label>
        </div>
        <div class="form-floating">
          <input type="password" class="form-control" id="password" placeholder="Password" name="password" />
          <label for="password">Password</label>
        </div>
        <button type="submit" class="btn-style mt-3">Log in</button>
      </form>
      <div id="login-status" class="text-center login-status"></div>
      <div class="footer p-2">
        <a class="btn-footer" href="signup.html"> Create New Account </a>
      </div>
    </div>
  </div>
  <!-- End Login -->
  <!-- Start Footer -->
  <footer class="pt-5 pb-5">
    <div class="container">
      <div class="row part-1 pb-3">
        <div class="col-lg-3 col-md-3 col-sm-12 mb-2">
          <a href="termsAndconditions.html">Terms and Conditions</a>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-12 mb-2">
          <a href="FQA.html">FAQ</a>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-12 mb-2">
          <a href="privacyPolicy.html">Privacy Policy</a>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-12 mb-2">
          <a href="contact.html">Contact Us</a>
        </div>
      </div>
      <div class="row part-2 pt-3 pb-3">
        <div class="col-lg-2 col-md-2 col-sm-12">
          <p>Restaurants</p>
          <ul>
            <li>Taboon</li>
            <li>Planet Africa</li>
            <li>Al Aseel El Demashky</li>
            <li>Lan Yuan - Maadi</li>
            <li>More Restaurants...</li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-2 col-sm-12">
          <p>Popular Cuisines</p>
          <ul>
            <li>Italian</li>
            <li>Mexican</li>
            <li>Sandwiches</li>
            <li>Japanese</li>
            <li>More Cuisines...</li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-2 col-sm-12">
          <p>Popular Areas</p>
          <ul>
            <li>Masaken El Rehab</li>
            <li>Mostashfa AlHommeyat</li>
            <li>Salah ElDin Street</li>
            <li>Salah Nessim Street</li>
            <li>More Areas...</li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-2 col-sm-12">
          <p>Cities</p>
          <ul>
            <li>6th of October</li>
            <li>Alexandria</li>
            <li>Assiut</li>
            <li>Banha</li>
            <li>More Cities...</li>
          </ul>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-12">
          <p>Follow us on</p>
          <ul class="icons d-flex pb-3">
            <li><i class="fa-brands fa-facebook"></i></li>
            <li><i class="fa-brands fa-twitter"></i></li>
            <li><i class="fa-brands fa-instagram"></i></li>
            <li><i class="fa-brands fa-linkedin-in"></i></li>
          </ul>
        </div>
      </div>
      <div class="row part-3 pt-3">
        <div class="col-lg-6 col-md-6 col-sm-12">
          <p>For any support or help you can contact us via our Live Chat</p>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12 text-end">
          <p>Â©2023 FoodHunter.com</p>
        </div>
      </div>
    </div>
  </footer>
  <!-- End Footer -->
  <!-- File Js Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>

  <script>
    const form = document.getElementById('login-form');
    const status = document.getElementById('login-status');

    form.addEventListener('submit', (event) => {
      event.preventDefault();
      let inputEmail = document.getElementById("email");

      const formData = new FormData(form);

      fetch('http://localhost/footer-hunter/implementation/login.php', {
        method: 'POST',
        body: formData
      })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            status.textContent = 'Login successful';
            console.log(data)
            if(data.roleId === "1") {
              location.href = "../admin/admin.html"
            }else if(data.roleId === "2"){
              localStorage.setItem("data",JSON.stringify(inputEmail.value))
              location.href = "./partner/partner.html"
            }else if(data.roleId === "3"){
              localStorage.setItem("emailUser", JSON.stringify(inputEmail.value))
              location.href = "./user/userHome.html"
            }else if(data.roleId === "4"){
              localStorage.setItem("emailDelivery",JSON.stringify(inputEmail.value));
              location.href = "./delivery/delivery.html"
            }

            // Do something else after successful login
          } else {
            status.textContent = 'Login failed. Please try again.';
          }
        })
        .catch(error => {
          status.textContent = 'An error occurred. Please try again later.';
        });
    });
  </script>

</body>


</html>